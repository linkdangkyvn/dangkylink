<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Link Unlocker V4 - Premium</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* --- C·∫§U H√åNH GIAO DI·ªÜN CHUNG --- */
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: #f0f2f5; 
            margin: 0; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            padding: 20px;
            box-sizing: border-box;
        }

        .container { 
            background: white; 
            width: 100%; 
            max-width: 460px; 
            padding: 30px 25px; 
            border-radius: 20px; 
            box-shadow: 0 10px 40px rgba(0,0,0,0.1); 
            text-align: center; 
            position: relative; 
            overflow: hidden; 
        }
        
        /* Hi·ªáu ·ª©ng chuy·ªÉn c·∫£nh */
        .step { display: none; animation: fadeIn 0.5s ease; }
        .step.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        h2 { color: #2c3e50; margin: 0 0 8px 0; font-size: 22px; font-weight: 700; }
        p { color: #7f8c8d; font-size: 15px; margin-bottom: 25px; line-height: 1.5; }

        /* --- C√ÅC N√öT NHI·ªÜM V·ª§ (TASK BUTTONS) --- */
        .btn-task { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            padding: 16px 20px; 
            margin-bottom: 12px; 
            border-radius: 12px; 
            text-decoration: none; 
            font-weight: 600; 
            font-size: 15px; 
            transition: transform 0.2s, box-shadow 0.2s; 
            cursor: pointer; 
            border: none; 
            width: 100%; 
            box-sizing: border-box; 
            position: relative; 
        }
        .btn-task:active { transform: scale(0.97); }
        
        /* M√†u s·∫Øc t·ª´ng lo·∫°i */
        .btn-yt { background: #ff0000; color: white; box-shadow: 0 4px 12px rgba(255, 0, 0, 0.2); }
        .btn-zalo { background: #0068ff; color: white; box-shadow: 0 4px 12px rgba(0, 104, 255, 0.2); }
        
        /* N√∫t Qu·∫£ng C√°o ƒê·∫∑c Bi·ªát (Direct Link) */
        .btn-ads { 
            background: linear-gradient(135deg, #f1c40f, #f39c12); 
            color: white; 
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3); 
            border: 1px solid #e67e22;
        }

        /* Tr·∫°ng th√°i Loading v√† Done */
        .btn-task.loading { background: #95a5a6; pointer-events: none; justify-content: center; box-shadow: none; border: none; color: #eee; }
        .btn-task.done { background: #27ae60; color: white; pointer-events: none; justify-content: center; box-shadow: none; border: none; }

        /* --- V√ÅCH NGƒÇN PH√ÇN CHIA (DIVIDER) --- */
        .divider-container {
            margin: 30px 0 20px 0;
            position: relative;
            text-align: center;
        }
        .divider-line {
            border-top: 2px dashed #dcdcdc;
            width: 100%;
            position: absolute;
            top: 50%;
            z-index: 1;
        }
        .divider-text {
            background: #fff;
            padding: 0 15px;
            color: #aaa;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
            position: relative;
            z-index: 2;
        }

        /* --- N√öT ƒêI TI·∫æP (NEXT BUTTON) --- */
        .btn-next { 
            background: #e0e0e0; 
            color: #999; 
            pointer-events: none; 
            border-radius: 50px; 
            padding: 18px; 
            width: 100%;
            border: none;
            font-weight: bold;
            font-size: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: 0.3s;
        }
        .btn-next.unlocked { 
            background: linear-gradient(135deg, #11998e, #38ef7d); 
            color: white; 
            pointer-events: auto; 
            box-shadow: 0 8px 20px rgba(46, 204, 113, 0.4); 
            cursor: pointer; 
            animation: pulse 2s infinite; 
        }
        
        /* Thanh ti·∫øn tr√¨nh */
        .progress-bg { background: #f1f2f6; height: 8px; border-radius: 10px; margin-bottom: 25px; overflow: hidden; }
        .progress-bar { height: 100%; background: linear-gradient(90deg, #ff9966, #ff5e62); width: 0%; transition: width 0.5s ease-in-out; }

        .spinner { width: 16px; height: 16px; border: 2px solid #fff; border-top-color: transparent; border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px; display: none; }
        .btn-task.loading .spinner { display: inline-block; }
        
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.02); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

    <div class="container">
        <div class="progress-bg"><div class="progress-bar" id="myBar"></div></div>

        <div id="step1" class="step active">
            <div style="font-size: 40px; margin-bottom: 10px;">üëã</div>
            <h2>B·∫Øt ƒê·∫ßu</h2>
            <p>H·ªá th·ªëng ƒë√£ t√¨m th·∫•y file c·ªßa b·∫°n.<br>Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ b·∫Øt ƒë·∫ßu qu√° tr√¨nh m·ªü kh√≥a.</p>
            
            <div class="divider-container">
                <div class="divider-line"></div>
                <span class="divider-text">S·∫µn s√†ng</span>
            </div>
            
            <button class="btn-next unlocked" onclick="chuyenTrang(2)">
                B·∫ÆT ƒê·∫¶U NGAY &nbsp; <i class="fas fa-arrow-right"></i>
            </button>
        </div>

        <div id="step2" class="step">
            <h2>B∆∞·ªõc 1/3</h2>
            <p>ƒêƒÉng k√Ω c√°c k√™nh b√™n d∆∞·ªõi ƒë·ªÉ ti·∫øp t·ª•c.</p>
            
            <a href="https://www.youtube.com/channel/UC_ID_KENH_1?sub_confirmation=1" target="_blank" class="btn-task btn-yt" onclick="xuLyNhiemVu(this, 2, false)">
                <span><i class="fab fa-youtube"></i> &nbsp; ƒêƒÉng K√Ω K√™nh 1</span> <i class="fas fa-chevron-right"></i>
            </a>
            
            <a href="https://www.youtube.com/channel/UC_ID_KENH_2?sub_confirmation=1" target="_blank" class="btn-task btn-yt" onclick="xuLyNhiemVu(this, 2, false)">
                <span><i class="fab fa-youtube"></i> &nbsp; ƒêƒÉng K√Ω K√™nh 2</span> <i class="fas fa-chevron-right"></i>
            </a>

            <div class="divider-container">
                <div class="divider-line"></div>
                <span class="divider-text">Ti·∫øn tr√¨nh</span>
            </div>

            <button id="btn-next-2" class="btn-next" onclick="chuyenTrang(3)" data-required="2" data-done="0">
                <i class="fas fa-lock"></i> &nbsp; Ho√†n th√†nh 0/2
            </button>
        </div>

        <div id="step3" class="step">
            <h2>B∆∞·ªõc 2/3</h2>
            <p>·ª¶ng h·ªô th√™m k√™nh ph·ª• c·ªßa Admin.</p>
            
            <a href="https://www.youtube.com/channel/UC_ID_KENH_3?sub_confirmation=1" target="_blank" class="btn-task btn-yt" onclick="xuLyNhiemVu(this, 3, false)">
                <span><i class="fab fa-youtube"></i> &nbsp; ƒêƒÉng K√Ω K√™nh 3</span> <i class="fas fa-chevron-right"></i>
            </a>
            
            <a href="https://www.youtube.com/channel/UC_ID_KENH_4?sub_confirmation=1" target="_blank" class="btn-task btn-yt" onclick="xuLyNhiemVu(this, 3, false)">
                <span><i class="fab fa-youtube"></i> &nbsp; ƒêƒÉng K√Ω K√™nh 4</span> <i class="fas fa-chevron-right"></i>
            </a>

            <div class="divider-container">
                <div class="divider-line"></div>
                <span class="divider-text">Ti·∫øn tr√¨nh</span>
            </div>

            <button id="btn-next-3" class="btn-next" onclick="chuyenTrang(4)" data-required="2" data-done="0">
                <i class="fas fa-lock"></i> &nbsp; Ho√†n th√†nh 0/2
            </button>
        </div>

        <div id="step4" class="step">
            <h2>B∆∞·ªõc 3/3</h2>
            <p>B∆∞·ªõc cu·ªëi c√πng! Tham gia nh√≥m v√† X√°c minh.</p>
            
            <a href="https://zalo.me/g/LINK_NHOM_ZALO" target="_blank" class="btn-task btn-zalo" onclick="xuLyNhiemVu(this, 4, false)">
                <span><i class="fas fa-users"></i> &nbsp; Tham gia Zalo</span> <i class="fas fa-chevron-right"></i>
            </a>
            
            <a href="https://www.effectivegatecpm.com/wg1qvzvr8x?key=d28637e87066c0e12b4fae327d34c789" target="_blank" class="btn-task btn-ads" onclick="xuLyNhiemVu(this, 4, true)">
                <span><i class="fas fa-star"></i> &nbsp; X√°c minh Robot (Click)</span> <i class="fas fa-external-link-alt"></i>
            </a>

            <div class="divider-container">
                <div class="divider-line"></div>
                <span class="divider-text">Ti·∫øn tr√¨nh</span>
            </div>

            <button id="btn-next-4" class="btn-next" onclick="chuyenTrang(5)" data-required="2" data-done="0">
                <i class="fas fa-lock"></i> &nbsp; Ho√†n th√†nh 0/2
            </button>
        </div>

        <div id="step5" class="step">
            <div style="font-size: 50px; margin-bottom: 10px;">üéâ</div>
            <h2 style="color: #27ae60;">Th√†nh C√¥ng!</h2>
            <p>C·∫£m ∆°n b·∫°n ƒë√£ ho√†n th√†nh nhi·ªám v·ª•.<br>Link t·∫£i c·ªßa b·∫°n ·ªü b√™n d∆∞·ªõi.</p>
            
            <div class="divider-container">
                <div class="divider-line"></div>
                <span class="divider-text">Ho√†n t·∫•t</span>
            </div>
            
            <a href="#" id="finalLink" class="btn-next unlocked">
                <i class="fas fa-download"></i> &nbsp; T·∫¢I FILE NGAY
            </a>
        </div>
    </div>

    <script src="https://pl28509723.effectivegatecpm.com/50/5f/53/505f5395f6cbf8e7c711f97b861a4233.js"></script>

    <script src="https://pl28509728.effectivegatecpm.com/af/4e/58/af4e58f14a43905474b0082289e54c49.js"></script>

    <script>
        // === LOGIC X·ª¨ L√ù NHI·ªÜM V·ª§ ===
        function xuLyNhiemVu(el, step, isAd) {
            // N·∫øu ƒë√£ xong ho·∫∑c ƒëang ch·∫°y th√¨ ch·∫∑n click
            if (el.classList.contains('done') || el.classList.contains('loading')) return;

            el.classList.add('loading'); // Chuy·ªÉn m√†u x√°m
            let contentSpan = el.querySelector('span');
            let originalIcon = contentSpan.innerHTML; // L∆∞u l·∫°i icon c≈©
            
            // ·∫®n m≈©i t√™n b√™n ph·∫£i ƒëi cho g·ªçn
            if(el.querySelector('.fa-chevron-right')) el.querySelector('.fa-chevron-right').style.display = 'none';
            if(el.querySelector('.fa-external-link-alt')) el.querySelector('.fa-external-link-alt').style.display = 'none';

            if (isAd) {
                // --- TR∆Ø·ªúNG H·ª¢P L√Ä N√öT QU·∫¢NG C√ÅO (ƒê·∫æM NG∆Ø·ª¢C 5S) ---
                let count = 5;
                contentSpan.innerHTML = `<div class="spinner"></div> ‚è≥ Vui l√≤ng ch·ªù... ${count}s`;
                
                let timer = setInterval(() => {
                    count--;
                    if (count > 0) {
                        contentSpan.innerHTML = `<div class="spinner"></div> ‚è≥ Vui l√≤ng ch·ªù... ${count}s`;
                    } else {
                        // H·∫øt gi·ªù -> Ho√†n th√†nh
                        clearInterval(timer);
                        finishTask(el, step);
                    }
                }, 1000);

            } else {
                // --- TR∆Ø·ªúNG H·ª¢P N√öT TH∆Ø·ªúNG (ZALO/YOUTUBE) ---
                // Gi·∫£ v·ªù ki·ªÉm tra 2 gi√¢y
                contentSpan.innerHTML = `<div class="spinner"></div> ƒêang ki·ªÉm tra...`;
                setTimeout(() => { finishTask(el, step); }, 2000);
            }
        }

        function finishTask(el, step) {
            el.classList.remove('loading');
            el.classList.add('done'); // Chuy·ªÉn m√†u xanh l√°
            el.innerHTML = '<i class="fas fa-check-circle"></i> &nbsp; ƒê√£ ho√†n th√†nh';
            
            // Ki·ªÉm tra xem ƒë·ªß ƒëi·ªÅu ki·ªán m·ªü kh√≥a Next ch∆∞a
            checkNext(step);
        }

        function checkNext(step) {
            let btn = document.getElementById('btn-next-' + step);
            let req = parseInt(btn.dataset.required);
            let done = parseInt(btn.dataset.done) + 1;
            
            // C·∫≠p nh·∫≠t s·ªë li·ªáu
            btn.dataset.done = done;
            btn.innerHTML = `<i class="fas fa-lock"></i> &nbsp; Ho√†n th√†nh ${done}/${req}`;

            // N·∫øu l√†m ƒë·ªß nhi·ªám v·ª• -> M·ªü kh√≥a n√∫t Next
            if (done >= req) {
                btn.classList.add('unlocked');
                btn.innerHTML = `TI·∫æP T·ª§C &nbsp; <i class="fas fa-arrow-right"></i>`;
            }
        }

        // === LOGIC CHUY·ªÇN TRANG ===
        function chuyenTrang(n) {
            // ·∫®n t·∫•t c·∫£ step
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            // Hi·ªán step mong mu·ªën
            document.getElementById('step' + n).classList.add('active');
            
            // C·∫≠p nh·∫≠t thanh ti·∫øn tr√¨nh (25% m·ªói b∆∞·ªõc)
            let phanTram = (n-1) * 25;
            document.getElementById("myBar").style.width = phanTram + "%";
        }

        // === T·ª∞ ƒê·ªòNG L·∫§Y LINK T·ª™ URL ===
        const params = new URLSearchParams(window.location.search);
        // H·ªó tr·ª£ c·∫£ ?link= v√† ?id= (base64)
        let finalUrl = "https://google.com"; // M·∫∑c ƒë·ªãnh
        
        if (params.get('id')) {
            try {
                finalUrl = atob(params.get('id'));
            } catch(e) { console.log("L·ªói gi·∫£i m√£ base64"); }
        } else if (params.get('link')) {
            finalUrl = params.get('link');
        }

        document.getElementById('finalLink').href = finalUrl;
    </script>
</body>
</html>
